<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>PC Build</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f5f5f5; }
        .container { max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 5px; }
        .item-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #ddd; }
        .item-name { font-weight: bold; }
        .part-details { color: #555; font-size: 0.9em; }
        .btn { padding: 6px 12px; border: none; border-radius: 4px; cursor: pointer; }
        .btn-add { background: #007bff; color: white; }
        .btn-remove { background: #dc3545; color: white; }
    </style>
</head>
<body>
<div class="container">
    <h2>Build Your PC</h2>

    <div th:each="item, iterStat : ${allItems}" class="item-row">
        <div>
            <div class="item-name" th:text="${item.item}"></div>
            <div class="part-details" th:if="${item.added}" 
                 th:text="${item.partname} + ' - ₱' + ${item.price}"></div>
        </div>

        <form th:if="${!item.added}" th:action="@{/build/add}" method="post" style="display:inline;">
    <input type="hidden" name="index" th:value="${iterStat.index}"/>
    <button type="submit" class="btn btn-add">Add</button>
</form>

<div th:if="${item.added}" style="display:inline;">
    <span th:text="${item.partname} + ' - ₱' + ${item.price}"></span>
    <form th:action="@{/build/remove}" method="post" style="display:inline;">
        <input type="hidden" name="index" th:value="${iterStat.index}"/>
        <button type="submit" class="btn btn-remove">Remove</button>
    </form>
</div>

    </div>
</div>
</body>
</html>
